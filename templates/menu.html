{% extends "base.html" %}
{% block head %}
    <script>
        function goToConversationMode() {
            location.href = "{{ url_for('chatroom') }}";
        }

        function conversationHistory() {
            location.href = "{{ url_for('record')}}";
        }

        function goToVideoMode() {
            location.href = "{{ url_for('video_mode')}}";
        }
    </script>
{% endblock %}
{% block profile %}
    {% if name %}
        {{ name }} 님, 환영합니다!
    {% else %}
        로그인을 해주세요
    {% endif %}
{% endblock %}
{% block content %}
    <img id="coversation_mode" src="{{ url_for('static', filename='src/img/conversation_mode.png')}}" alt="대화모드" onclick="goToConversationMode()">
    <br><br>
    <img id="conversation_history" src="{{ url_for('static', filename='src/img/conversation_history.png')}}" alt="대화기록" onclick="conversationHistory()">
    <br><br>
    <img id="video_mode" src="{{ url_for('static', filename='src/img/video_mode.png')}}" alt="영상시청모드" onclick="goToVideoMode()">
    <script>
        function getCookie(name) {
            console.log("name", name)
            var value = "; " + document.cookie;
            console.log("value", value)
            var parts = value.split("; " + name + "=");
            if (parts.length === 2) {
                return parts.pop().split(";").shift();
            }
        }

        document.addEventListener("DOMContentLoaded", function() {
            var welcomeMessage = document.getElementById("welcome-message");
            var token = getCookie("token"); // 토큰 값 가져오기
            console.log("token", token)
            if (token) {
                // 토큰이 존재할 경우 처리할 내용
                // 예: 토큰을 해독하여 사용자 정보 가져오기 등
                welcomeMessage.textContent = "토큰을 확인했습니다.";
            } else {
                welcomeMessage.textContent = "토큰이 없습니다.";
            }
        });
    </script>
{% endblock %}